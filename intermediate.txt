1000 COPY START 1000 Errors:0  ;		COPY FILE FROM INPUT TO OUTPUT
1000 FIRST STL RETADR Errors:0  ;		SAVE RETURN ADDRESS
1003 CLOOP JSUB RDREC Errors:0  ;		READ INPUT RECORD
1006  LDA LENGTH Errors:0  ;		TEST FOR EOF (LENGTH = 0)
1009  COMP ZERO Errors:0  ;
100c  JEQ ENDFIL Errors:0  ;		EXIT IF EOF FOUND
100f  JSUB WRREC Errors:0  ;		WRITE OUTPUT RECORD
1012  J CLOOP Errors:0  ;		LOOP
1015 ENDFIL LDA EOF Errors:0  ;		INSERT END OF FILE MARKER
1018  STA BUFFER Errors:0  ;
101b  LDA THREE Errors:0  ;		SET LENGTH = 3
101e  STA LENGTH Errors:0  ;
1021  JSUB WRREC Errors:0  ;		WRITE EOF
1024  LDL RETADR Errors:0  ;		GET RETURN ADDRESS
1027  RSUB  Errors:0  ;RETURN TO CALLER
102a EOF BYTE C'EOF' Errors:0  ;
102d THREE WORD 3 Errors:0  ;
1030 ZERO WORD 0 Errors:0  ;
1033 RETADR RESW 1 Errors:0  ;
1036 LENGTH RESW 1 Errors:0  ;			LENGTH OF RECORD
1039 BUFFER RESB 4096 Errors:0  ;		4096-BYTE BUFFER AREA
.
.	SUBROUTINE TO READ RECORD INTO BUFFER
.
2039 RDREC LDX ZERO Errors:0  ;		CLEAR LOOP COUNTER
203c  LDA ZERO Errors:0  ;		CLEAR A TO ZERO
203f RLOOP TD INPUT Errors:0  ;		TEST INPUT DEVICE
2042  JEQ RLOOP Errors:0  ;		LOOP UNTIL READY
2045  RD INPUT Errors:0  ;		READ CHARACTER INTO REGISTAR A
2048  COMP ZERO Errors:0  ;		TEST FOR END OF RECORD (X'00')
204b  JEQ EXIT Errors:0  ;		EXIT LOOP IF EOF
204e  STCH BUFFER,X Errors:0  ;	STORE CHARCTER IN BUFFER
2051  TIX MAXLEN Errors:0  ;		LOOP UNLESS MAX LENGTH
2054  JLT RLOOP Errors:0  ;	  	HAS BEEN REACHED
2057 EXIT STX LENGTH Errors:0  ;		SAVE RECORD LENGTH
205a  RSUB  Errors:0  ;RETURN TO CALLER
205d INPUT BYTE X'F1' Errors:0  ;		CODE FOR INPUT DEVICE
205e MAXLEN WORD 4096 Errors:0  ;
.
.	SUBROUTINE TO WRITE RECORD FROM BUFFER
.
2061 WRREC LDX ZERO Errors:0  ;			CLEAR LOOP COUNTER
2064 WLOOP TD OUTPUT Errors:0  ;		TEST OUTPUT DEVICE
2067  JEQ WLOOP Errors:0  ;		LOOP UNTIL READY
206a  LDCH BUFFER,X Errors:0  ;	    GET CHARCTER FROM BUFFER
206d  WD OUTPUT Errors:0  ;		WRITE CHARACTER
2070  TIX LENGTH Errors:0  ;		LOOP UNTIL ALL CHARACTERS
2073  JLT WLOOP Errors:0  ;	  	HAVE BEEN WRITTEN
2076  RSUB  Errors:0  ;RETURN TO CALLER
2079 OUTPUT BYTE X'05' Errors:0  ;		CODE FOR OUTPUT DEVICE
END FIRST Errors:0 ;
